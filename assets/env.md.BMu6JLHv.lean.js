import{_ as n,D as t,c as l,j as s,a as i,I as e,a3 as p,o as h}from"./chunks/framework.DsTc21rM.js";const S=JSON.parse('{"title":"环境变量","description":"","frontmatter":{},"headers":[],"relativePath":"env.md","filePath":"env.md","lastUpdated":1718273939000}'),k={name:"env.md"},d=p(`<h1 id="环境变量" tabindex="-1">环境变量 <a class="header-anchor" href="#环境变量" aria-label="Permalink to &quot;环境变量&quot;">​</a></h1><p>Swico内置了以下Node环境变量。如果你在项目中需要设置新的环境变量，请避免与以下命名冲突：</p><div class="danger custom-block"><p class="custom-block-title">警告</p><p>大部分情况下，建议开发者不要擅自随意修改Swico内置环境变量，否则很容易导致程序运行异常。</p></div><h2 id="analyse" tabindex="-1">ANALYSE <a class="header-anchor" href="#analyse" aria-label="Permalink to &quot;ANALYSE&quot;">​</a></h2><p>用于执行<code>swico build</code>时，是否开启分析模式。如果值为<code>true</code>，则会在打包构建完成后同时打开一个展示构建产物分析的页面。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cross-env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ANALYZE=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> swico</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div><h2 id="swico-env" tabindex="-1">SWICO_ENV <a class="header-anchor" href="#swico-env" aria-label="Permalink to &quot;SWICO_ENV&quot;">​</a></h2><p>用于判断当前环境。</p><p>当执行<code>swico dev</code>时，该环境变量会被自动设置为<code>dev</code>。</p><p>当执行<code>swico build</code>时，该环境变量会被自动设置为<code>prod</code>。</p><p>可在Swico配置文件中通过获取此变量值来生成不同环境的配置。</p><p>使用示例：</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// config/swico.ts</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineConfig } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;swico&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> env</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SWICO_ENV</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;base&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    template: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;react&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            //通过define设置变量使得可从业务代码中判断环境</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ENV: env</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    router: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 不同环境配置不同路由</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        routes:env</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dev&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> devRoutes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prodRoutes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div>`,13),o={id:"swico-restart",tabindex:"-1"},r=s("a",{class:"header-anchor",href:"#swico-restart","aria-label":'Permalink to "SWICO_RESTART <Badge type="tip" text="v1. 1. 0" />"'},"​",-1),c=s("p",null,"用于本地开发服务器更新重启的判断标志。",-1),E={id:"swico-port",tabindex:"-1"},g=s("a",{class:"header-anchor",href:"#swico-port","aria-label":'Permalink to "SWICO_PORT <Badge type="tip" text="v1. 1. 0" />"'},"​",-1),y=s("p",null,"用于缓存本地开发服务器当前所用的端口号。",-1),F={id:"swico-router-base",tabindex:"-1"},_=s("a",{class:"header-anchor",href:"#swico-router-base","aria-label":'Permalink to "SWICO_ROUTER_BASE <Badge type="tip" text="v1. 1. 0" />"'},"​",-1),u=s("p",null,[i("用于缓存本地开发服务器当前所设置的路由RouterBase值，见"),s("a",{href:"/swico-docs/router.html#base"},"路由 > 基本配置 > base"),i("。")],-1);function v(b,C,A,m,f,B){const a=t("Badge");return h(),l("div",null,[d,s("h2",o,[i("SWICO_RESTART "),e(a,{type:"tip",text:"v1. 1. 0"}),i(),r]),c,s("h2",E,[i("SWICO_PORT "),e(a,{type:"tip",text:"v1. 1. 0"}),i(),g]),y,s("h2",F,[i("SWICO_ROUTER_BASE "),e(a,{type:"tip",text:"v1. 1. 0"}),i(),_]),u])}const x=n(k,[["render",v]]);export{S as __pageData,x as default};
