"use strict";(self.webpackChunksecywo_docs=self.webpackChunksecywo_docs||[]).push([[314],{352:(n,s,a)=>{a.r(s),a.d(s,{comp:()=>v,data:()=>m});var e=a(641);const t=(0,e.Fv)('<h1 id="é…ç½®" tabindex="-1"><a class="header-anchor" href="#é…ç½®"><span>é…ç½®</span></a></h1><p>secywoæä¾›é…ç½®æ–‡ä»¶æ–¹ä¾¿å¼€å‘è€…å¯å¯¹éƒ¨åˆ†é¡¹ç›®é…ç½®è¿›è¡Œä¿®æ”¹æ‰©å±•ï¼Œä¾‹å¦‚Aliasæ˜ å°„ï¼Œæœ¬åœ°è¯·æ±‚ä»£ç†ç­‰ã€‚</p><p>é…ç½®æ–‡ä»¶å­˜åœ¨äºé¡¹ç›®æ ¹ç›®å½•çš„<code>config</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œå¯åŒ…å«ä»¥ä¸‹ä¸‰ç§æ–‡ä»¶ï¼š</p><ul><li><code>secywo.ts</code> ï¼šé€šç”¨å…¬å…±é…ç½®ã€‚</li><li><code>secywo.dev.ts</code>ï¼š å¼€å‘ç¯å¢ƒä¸“å±é…ç½®ï¼Œè‹¥ä¸ <code>secywo.ts</code> å­˜åœ¨é…ç½®é¡¹å†²çªï¼Œä»¥å½“å‰é…ç½®é¡¹ä¸ºå‡†ã€‚</li><li><code>secywo.prod.ts</code>ï¼š ç”Ÿäº§ç¯å¢ƒä¸“å±é…ç½®ï¼Œè‹¥ä¸ <code>secywo.ts</code> å­˜åœ¨é…ç½®é¡¹å†²çªï¼Œä»¥å½“å‰é…ç½®é¡¹ä¸ºå‡†ã€‚</li></ul><p>é…ç½®ä»£ç ç¤ºä¾‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="config/secywo.ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n    alias<span class="token operator">:</span> <span class="token punctuation">{</span>\n        apiPath<span class="token operator">:</span> <span class="token string">&#39;src/api&#39;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    define<span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token constant">FOO</span><span class="token operator">:</span> <span class="token string">&#39;foo&#39;</span>\n    <span class="token punctuation">}</span>\n  \n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="config/secywo.dev.ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n    proxy<span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string-property property">&#39;/api/report&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n            target<span class="token operator">:</span> <span class="token string">&#39;http://localhost:4000&#39;</span><span class="token punctuation">,</span> <span class="token comment">// è·¨åŸŸç›®æ ‡ä¸»æœºï¼Œè‡ªè¡Œä¿®æ”¹</span>\n            ws<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ä»£ç† websockets</span>\n            changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n            pathRewrite<span class="token operator">:</span> <span class="token punctuation">{</span>\n                <span class="token string-property property">&#39;^/api&#39;</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span> <span class="token comment">// é‡å†™åœ°å€</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="config/secywo.prod.ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n    <span class="token comment">//æ’ä»¶</span>\n    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token comment">//ä¼˜åŒ–momentåŒ…ä½“ç§¯ï¼Œæ„å»ºæ—¶å¿½ç•¥å¤–å›½è¯­è¨€åŒ…</span>\n        <span class="token keyword">new</span> <span class="token class-name">webpack</span><span class="token punctuation">.</span><span class="token function">ContextReplacementPlugin</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">moment[/\\\\]locale$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">zh-cn</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token builtin">console</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">//ç”Ÿäº§ç¯å¢ƒä¿ç•™console</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸ’¡ æˆ‘ä»¬æ¨èä½ ä½¿ç”¨æ¨¡æ¿å†…ç½®åŒ…<code>secywo-template-cli</code>æä¾›çš„<code>defineConfig</code>æ–¹æ³•æ¥è‡ªå®šä¹‰é…ç½®ï¼Œä»¥ä¾¿æ”¯æŒtsç±»å‹æç¤ºï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="config/secywo.dev.ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;secywo-template-cli&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment">//ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šç¯å¢ƒï¼Œå¯é€‰å€¼æœ‰base,dev,prod</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token string">&#39;dev&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    proxy<span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string-property property">&#39;/api/report&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n            target<span class="token operator">:</span> <span class="token string">&#39;http://localhost:4000&#39;</span><span class="token punctuation">,</span> <span class="token comment">// è·¨åŸŸç›®æ ‡ä¸»æœºï¼Œè‡ªè¡Œä¿®æ”¹</span>\n            ws<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ä»£ç† websockets</span>\n            changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n            pathRewrite<span class="token operator">:</span> <span class="token punctuation">{</span>\n                <span class="token string-property property">&#39;^/api&#39;</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span> <span class="token comment">// é‡å†™åœ°å€</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢æ˜¯å¯ç”¨é…ç½®é¡¹çš„ä»‹ç»ï¼š</p><h2 id="alias" tabindex="-1"><a class="header-anchor" href="#alias"><span>alias</span></a></h2><p>é…ç½®å¯¼å…¥åˆ«åï¼Œå¯¹ import è¯­å¥çš„ source åšæ˜ å°„ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>alias<span class="token operator">:</span> <span class="token punctuation">{</span>\n    apiPath<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;/src/api&#39;</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ™ä½ åœ¨é¡¹ç›®ä»£ç ä¸­ä½¿ç”¨<code>import &#39;apiPath/test&#39; </code>ç­‰ä»·äºå¼•å…¥<code>é¡¹ç›®æ ¹è·¯å¾„/scr/api/test</code>ã€‚</p><p>é…ç½®æ­¤é¡¹åï¼Œä½ éœ€è¦åœ¨<code>tsconfig.json &gt; compilerOptions &gt; paths </code>å±æ€§ä¸­æ·»åŠ å£°æ˜ï¼Œä»¥æ”¯æŒ ts ç±»å‹æç¤ºã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="tsconfig.json"><pre class="language-typescript"><code><span class="token punctuation">{</span>\n    <span class="token string-property property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string-property property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n            <span class="token comment">//...</span>\n            <span class="token string-property property">&quot;apiPath/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/api/*&quot;</span><span class="token punctuation">]</span>\n            <span class="token comment">//...</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>secywoé»˜è®¤å·²é…ç½®<code>@</code>æ˜ å°„ä¸º<code>/src</code>è·¯å¾„</p></blockquote><blockquote><p>æ­¤é…ç½®é¡¹ä»…<code>secywo.ts</code>å¯ç”¨</p></blockquote><h2 id="console" tabindex="-1"><a class="header-anchor" href="#console"><span>console</span></a></h2><p>é»˜è®¤å€¼ï¼š<code>true</code></p><p>ç”Ÿäº§ç¯å¢ƒæ˜¯å¦åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æ˜¾ç¤ºä»£ç ä¸­console æ‰“å°çš„ä¿¡æ¯ã€‚</p><blockquote><p>æ­¤é…ç½®é¡¹ä»…<code>secywo.prod.ts</code>å¯ç”¨</p></blockquote><h2 id="copy" tabindex="-1"><a class="header-anchor" href="#copy"><span>copy</span></a></h2><p>æ‰“åŒ…æ„å»ºæ—¶å°†æŒ‡å®šç›®å½•æ–‡ä»¶ï¼ˆå¤¹ï¼‰å¤åˆ¶åˆ°æŒ‡å®šè·¯å¾„ã€‚</p><p>å½“å€¼ä¸º<code>å­—ç¬¦ä¸²æ•°ç»„</code>æ—¶ï¼Œé»˜è®¤æ‹·è´åˆ°äº§ç‰©distç›®å½•ï¼Œå¦‚ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>copy<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;foo.json&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;src/bar.json&#39;</span><span class="token punctuation">]</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¼šäº§ç”Ÿå¦‚ä¸‹äº§ç‰©çš„ç»“æ„ï¼š</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>+ dist\n  - bar.json\n  - foo.json\n+ src\n  - bar.json\n- foo.json\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“å€¼ä¸º<code>å¯¹è±¡æ•°ç»„</code>æ—¶ï¼Œæ”¯æŒå¤åˆ¶åˆ°æŒ‡å®šç›®æ ‡è·¯å¾„ã€‚ å…¶ä¸­ç›¸å¯¹è·¯å¾„é»˜è®¤ä¸ºé¡¹ç›®æ ¹ç›®å½•ï¼Œä¸æ”¯æŒæ ¹è·¯å¾„å†™æ³•ã€‚</p><p>æ¯”å¦‚ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>copy<span class="token operator">:</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span> from<span class="token operator">:</span> <span class="token string">&#39;from&#39;</span><span class="token punctuation">,</span> to<span class="token operator">:</span> <span class="token string">&#39;dist/output&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span> from<span class="token operator">:</span> <span class="token string">&#39;file.json&#39;</span><span class="token punctuation">,</span> to<span class="token operator">:</span> <span class="token string">&#39;dist&#39;</span> <span class="token punctuation">}</span>\n<span class="token punctuation">]</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ—¶å°†äº§ç”Ÿå¦‚ä¸‹äº§ç‰©ç»“æ„ï¼š</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>+ dist\n  + output\n    - foo.json\n  - file.json\n+ from\n  - foo.json\n- file.json\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>secywoé»˜è®¤å·²å†…ç½®åœ¨æ„å»ºäº§ç‰©æ—¶å¯¹é¡¹ç›®æ ¹è·¯å¾„ä¸‹publicæ–‡ä»¶å¤¹å¤åˆ¶åˆ°æ„å»ºäº§ç‰©distç›®å½•ä¸‹</p></blockquote><blockquote><p>æ­¤é…ç½®é¡¹ä»…<code>secywo.prod.ts</code>å¯ç”¨</p></blockquote><h2 id="define" tabindex="-1"><a class="header-anchor" href="#define"><span>define</span></a></h2><p>è®¾ç½®é¡¹ç›®å¼€å‘ä»£ç ä¸­å¯å…¨å±€è®¿é—®çš„å˜é‡å€¼ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>define<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token constant">FOO</span><span class="token operator">:</span> <span class="token string">&#39;bar&#39;</span> <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é‚£ä¹ˆä»£ç é‡Œçš„ <code>console.log(hello, FOO)</code> ä¼šè¢«ç¼–è¯‘æˆ <code>console.log(hello, &#39;bar&#39;)</code>ã€‚</p><p>åŒæ—¶ä¹Ÿæ”¯æŒé€šè¿‡å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡æˆ–promiseæ¥è®¾ç½®å˜é‡å€¼ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token function-variable function">define</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token constant">FOO</span><span class="token operator">:</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token comment">//æˆ–è€…</span>\n<span class="token function-variable function">define</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span></span><span class="token punctuation">(</span>resolve <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token constant">FOO</span><span class="token operator">:</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤å¤–ï¼Œä½ éœ€è¦åœ¨<code>typings</code>æ–‡ä»¶å¤¹ä¸­æˆ–å…¶ä»–ç±»å‹å£°æ˜æ–‡ä»¶ä¸­å£°æ˜å·²è®¾ç½®çš„å˜é‡ç±»å‹ï¼Œä»¥æ”¯æŒ ts ç±»å‹æ£€æŸ¥å’Œæç¤ºï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="typings/global.d.ts"><pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">const</span> <span class="token constant">FOO</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>âš ï¸ æ³¨æ„ï¼šè®¾ç½®çš„æ¯ä¸ªå˜é‡å€¼ä¼šè¿›è¡Œä¸€æ¬¡JSON.stringifyè½¬æ¢ã€‚å¦‚æœä½ è®¾ç½®çš„å˜é‡å€¼ä¸ºå¼•ç”¨ç±»å‹ï¼Œè¯·è®°å¾—å–å€¼æ—¶è¿›è¡Œç±»å‹è½¬æ¢</p></blockquote><blockquote><p>æ­¤é…ç½®é¡¹ä»…<code>secywo.ts</code>å¯ç”¨</p></blockquote><h2 id="devtool" tabindex="-1"><a class="header-anchor" href="#devtool"><span>devtool</span></a></h2><ul><li><p>é»˜è®¤å€¼ï¼š</p><p>å¼€å‘ç¯å¢ƒï¼š<code>cheap-module-source-map</code>ï¼ˆVueæ¨¡æ¿ï¼‰ï¼Œ<code>eval-cheap-module-source-map</code>ï¼ˆReactæ¨¡æ¿ï¼‰</p><p>ç”Ÿäº§ç¯å¢ƒï¼š<code>nosources-source-map</code></p></li></ul><p>devtoolç”¨äºè®¾ç½®SourceMapæºç æ˜ å°„ç±»å‹ï¼Œä¸»è¦ç”¨äºä»£ç è¿è¡ŒæŠ¥é”™æ—¶çš„é”™è¯¯å®šä½æ’æŸ¥ã€‚</p>',51),p={href:"https://webpack.docschina.org/configuration/devtool/",target:"_blank",rel:"noopener noreferrer"},o=(0,e.Fv)('<h2 id="plugins" tabindex="-1"><a class="header-anchor" href="#plugins"><span>plugins</span></a></h2><p>é»˜è®¤å€¼ï¼š<code>[]</code></p><p>Webpack Plugin çš„ç›¸å…³é…ç½®ï¼Œç”¨äºæ ¹æ®ä¸šåŠ¡éœ€è¦é¢å¤–çš„ä¸€äº› plugin è®¾ç½®ã€‚</p><p>ç¤ºä¾‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>plugins<span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token comment">//ä¼˜åŒ–momentåŒ…ä½“ç§¯ï¼Œæ„å»ºæ—¶å¿½ç•¥å¤–å›½è¯­è¨€åŒ…</span>\n    <span class="token keyword">new</span> <span class="token class-name">webpack</span><span class="token punctuation">.</span><span class="token function">ContextReplacementPlugin</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">moment[/\\\\]locale$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">zh-cn</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>\n<span class="token punctuation">]</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="proxy" tabindex="-1"><a class="header-anchor" href="#proxy"><span>proxy</span></a></h2><p>é…ç½®æœ¬åœ°å¼€å‘æ—¶ï¼ŒWebpack DevServerçš„è¯·æ±‚ä»£ç†ã€‚</p><p>ç¤ºä¾‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>proxy<span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token string-property property">&#39;/api/report&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        target<span class="token operator">:</span> <span class="token string">&#39;http://localhost:4000&#39;</span><span class="token punctuation">,</span> <span class="token comment">// è·¨åŸŸç›®æ ‡ä¸»æœºï¼Œè‡ªè¡Œä¿®æ”¹</span>\n        ws<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ä»£ç† websockets</span>\n        changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        pathRewrite<span class="token operator">:</span> <span class="token punctuation">{</span>\n            <span class="token string-property property">&#39;^/api&#39;</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span> <span class="token comment">// é‡å†™åœ°å€</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',9),c={href:"https://webpack.docschina.org/configuration/dev-server/#devserverproxy",target:"_blank",rel:"noopener noreferrer"},l=(0,e.Fv)('<blockquote><p>æ­¤é…ç½®é¡¹ä»…<code>secywo.dev.ts</code>å¯ç”¨</p></blockquote><h2 id="publicpath" tabindex="-1"><a class="header-anchor" href="#publicpath"><span>publicPath</span></a></h2><p>é»˜è®¤å€¼ï¼š<code>/</code></p><p>é…ç½® Webpack çš„<code>output &gt; publicPath</code> é€‰é¡¹ï¼Œè¡¨ç¤ºå½“å‰é¡¹ç›®è®¿é—®åœ°å€çš„å‰ç¼€è·¯å¾„ã€‚</p><p>é€šå¸¸åœ¨å½“é¡¹ç›®è¢«éƒ¨ç½²åˆ°åˆ°æœåŠ¡å™¨<code>éæ ¹è·¯å¾„</code>ä¸‹çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚ æ¯”å¦‚é¡¹ç›®è¢«éƒ¨ç½²çš„æœåŠ¡å™¨è·¯å¾„ä¸º<code>/test</code>ï¼Œé‚£ä¹ˆé€šè¿‡æµè§ˆå™¨è®¿é—®é¡¹ç›®é¦–é¡µçš„åœ°å€é»˜è®¤ä¸º<code>www.xxx.com/test/index.html</code>ã€‚å½“ä¸è®¾ç½®publicPathæ—¶ï¼Œ é¡¹ç›®æ„å»ºåindex.htmlä¸­æ‰€å¼•ç”¨çš„jsï¼Œcssï¼Œå›¾ç‰‡ç­‰é™æ€èµ„æºåœ°å€ä¾ç„¶æ˜¯åŸºäºæ ¹è·¯å¾„ï¼Œè¿™ç§æƒ…å†µä¸‹è®¿é—®ä¸Šé¢é¦–é¡µåœ°å€åï¼Œå°†æ— æ³•æ­£ç¡®å¼•ç”¨é™æ€èµ„æºã€‚ æ­¤æ—¶éœ€è¦è®¾ç½®publicPathä¸º<code>/test/</code>ã€‚</p>',5),i={href:"https://webpack.docschina.org/configuration/output/#outputpublicpath",target:"_blank",rel:"noopener noreferrer"},r=(0,e.Lk)("code",null,"window.publicPath",-1),d=(0,e.Lk)("blockquote",null,[(0,e.Lk)("p",null,[(0,e.eW)("æ­¤é…ç½®é¡¹ä»…"),(0,e.Lk)("code",null,"secywo.ts"),(0,e.eW)("å¯ç”¨")])],-1),u=(0,e.Lk)("div",{class:"custom-container warning"},[(0,e.Lk)("p",{class:"custom-container-title"},"æ³¨æ„"),(0,e.Lk)("p",null,[(0,e.eW)("å½“é…ç½®æ­¤é¡¹åï¼Œé€šå¸¸å‰ç«¯è·¯ç”±ä¹Ÿéœ€è¦åŒæ­¥è°ƒæ•´ä¿®æ”¹ï¼Œä¾‹å¦‚"),(0,e.Lk)("code",null,"React-Router"),(0,e.eW)("çš„"),(0,e.Lk)("code",null,"basename"),(0,e.eW)("é€‰é¡¹ã€‚")])],-1),k={},v=(0,a(262).A)(k,[["render",function(n,s){const a=(0,e.g2)("ExternalLinkIcon"),k=(0,e.g2)("RouteLink");return(0,e.uX)(),(0,e.CE)("div",null,[t,(0,e.Lk)("p",null,[(0,e.eW)("æ›´å¤šå¯é€‰å€¼è¯´æ˜å‚è€ƒ "),(0,e.Lk)("a",p,[(0,e.eW)("devtoolæ–‡æ¡£"),(0,e.bF)(a)]),(0,e.eW)("ã€‚")]),o,(0,e.Lk)("p",null,[(0,e.eW)("æ›´å¤šå±æ€§è¯´æ˜è¯·å‚è€ƒ"),(0,e.Lk)("a",c,[(0,e.eW)("devServer Proxyæ–‡æ¡£"),(0,e.bF)(a)]),(0,e.eW)("ã€‚")]),l,(0,e.Lk)("p",null,[(0,e.eW)("æ›´å¤šç»†èŠ‚å‚è€ƒ "),(0,e.Lk)("a",i,[(0,e.eW)("publicPathè¯´æ˜"),(0,e.bF)(a)]),(0,e.eW)("ã€‚")]),(0,e.Lk)("blockquote",null,[(0,e.Lk)("p",null,[(0,e.eW)("ğŸ’¡ secywoé»˜è®¤ä¼šå°†æ­¤å±æ€§å€¼é€šè¿‡é¡¹ç›®å…¥å£æ–‡ä»¶ "),(0,e.bF)(k,{to:"/template.html#index-ejs"},{default:(0,e.k6)((()=>[(0,e.eW)("index.ejs")])),_:1}),(0,e.eW)(" æŒ‚è½½åˆ°å…¨å±€ï¼Œé¡¹ç›®ä»£ç ä¸­å¯é€šè¿‡"),r,(0,e.eW)("è®¿é—®ã€‚")])]),d,u])}]]),m=JSON.parse('{"path":"/config.html","title":"é…ç½®","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"alias","slug":"alias","link":"#alias","children":[]},{"level":2,"title":"console","slug":"console","link":"#console","children":[]},{"level":2,"title":"copy","slug":"copy","link":"#copy","children":[]},{"level":2,"title":"define","slug":"define","link":"#define","children":[]},{"level":2,"title":"devtool","slug":"devtool","link":"#devtool","children":[]},{"level":2,"title":"plugins","slug":"plugins","link":"#plugins","children":[]},{"level":2,"title":"proxy","slug":"proxy","link":"#proxy","children":[]},{"level":2,"title":"publicPath","slug":"publicpath","link":"#publicpath","children":[]}],"git":{"updatedTime":1708837129000},"filePathRelative":"config.md"}')}}]);